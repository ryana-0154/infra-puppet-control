---
# Foreman ENC-First Architecture - Global Defaults Only
#
# This file contains ONLY truly global defaults that rarely change.
# Node-specific configuration belongs in Foreman Host/Hostgroup Parameters.
# Secrets should be managed via HashiCorp Vault.
#
# Priority: Foreman ENC > Hiera > Class defaults

# DNS Configuration - Default internal DNS server
profile::dns::manage_resolv: true
profile::dns::nameservers:
  - '10.10.10.1'
profile::dns::search_domains:
  - 'ra-home.co.uk'

# Puppet Agent Configuration - Default Puppet Server
profile::puppet_agent::manage_agent: true
profile::puppet_agent::server_hostname: 'foreman01.ra-home.co.uk'
profile::puppet_agent::ca_server: 'foreman01.ra-home.co.uk'
profile::puppet_agent::runinterval: 1800
profile::puppet_agent::environment: 'production'

# NTP defaults
profile::ntp::servers:
  - 0.uk.pool.ntp.org
  - 1.uk.pool.ntp.org
  - 2.uk.pool.ntp.org
  - 3.uk.pool.ntp.org

# Dotfiles configuration (used on all nodes)
profile::dotfiles::manage_dotfiles: true
profile::dotfiles::dotfiles_repo: 'https://github.com/ryana-0154/dotfiles.git'
profile::dotfiles::dotfiles_revision: 'main'
profile::dotfiles::auto_update: true
profile::dotfiles::dotfiles_dir_name: 'dotfiles'
profile::dotfiles::dotfiles_users:
  ryan:
    home_dir: /home/ryan
    ensure: present
  root:
    home_dir: /root
    ensure: present

# NOTE: All other configuration belongs in Foreman:
# - WireGuard peers and server config
# - Grafana Cloud credentials
# - Monitoring settings
# - Firewall rules
# - SSH port
# - Service enable flags
# - Node-specific overrides
